# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).


## [CURRENT_VERSION_TAG] - CURRENT_VERSION_RELEASE_DATE

### Added

- 'ra_hms' and 'dec_dms' properties to solve result, for convenience. These
  are the RA, Dec coords in Hours Minutes Seconds and Degrees Minutes Seconds.

- Several parameter default values can now be set from the configuration
  file:
  * defaultMaxStars
  * defaultStarDetectionBgOffset
  * defaultLowerDensityOffset
  * defaultHigherDensityOffset
  * defaultNearbySampling
  * defaultNearbyParallelism
  * defaultNearbySearchRadius
  * defaultBlindMinRadius
  * defaultBlindMaxRadius
  * defaultBlindSampling
  * defaultBlindParallelism

  This is useful when constantly using the same values but they differ
  from the CLI solver built-in defaults.
  
  The 'defaultStarDetectionBgOffset' allows tweaking the built-in star
  detection sensitivity. This was added to allow including dimmer stars
  but note that too low values may cause noise to be interpreted as signal
  (values 2.0 .. 3.0 recommended).

### Changed

- Produced log file should no longer have the UTF-8 BOM marker in the 
  beginning.

- Some CLI arguments are now optional, and fall back to built-in (or 
  configured) default values when not provided:
  
  Blind:
  * --min-radius
  * --max-radius
  
  Nearby:
  * --search-radius
  
### Fixed

- Relative path to quad database ('./db' etc.) in configuration should now
  work correctly when invoking the solver from a different working directory.
  The relative path is first assumed to be relative to the executable, and if
  that path is not found, it is then assumed to be relative to the 
  configuration file.
  


## [1.1.0] - 2022-02-21

### Changed

- Major performance improvements to blind solves.

- Introduced new database format (version 3) which introduces separate index 
  files for faster database initialization and the quads are now packed into
  smaller size, dropping the database size by 18%. The new Watney version
  is not compatible with version 2 database files due to major data 
  structure changes.

### Added

- The parameter '--image-stdin' allows reading image from standard input stream,
  meaning that you can for example use piping to pass the image instead of
  using the '--image' parameter which reads the image from a file.

- Support for .xyls files (x,y lists).
  New parameters are: --xyls, --xyls-stdin, --xyls-imagesize.
  The --image* and --xyls* parameters are mutually exclusive,
  and --xyls and --xyls-stdin always requires --xyls-imagesize to be set as 
  well.

### Fixed

- WatneyAstrometry.Core fix: in nearby solves the min-max range is now 
  correctly checked, so that min radius can never be entered as 0.
  This bug existed in 1.0.0 which caused the CLI solver to always fail
  when using the '--use-fits-headers' parameter.
  


## [1.0.0] - 2022-01-30

- First release.

